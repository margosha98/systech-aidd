# –°–ø—Ä–∏–Ω—Ç D1: Build & Publish - –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
18 –æ–∫—Ç—è–±—Ä—è 2025

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. GitHub Actions Workflow
- **–§–∞–π–ª:** `.github/workflows/build.yml`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è 3 Docker –æ–±—Ä–∞–∑–æ–≤ (bot, api, frontend)
- **–¢—Ä–∏–≥–≥–µ—Ä—ã:** push –≤ main (—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π), pull_request (—Ç–æ–ª—å–∫–æ —Å–±–æ—Ä–∫–∞)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Matrix strategy, Docker Buildx, GitHub Actions Cache

### 2. Docker Compose –¥–ª—è Registry
- **–§–∞–π–ª:** `docker-compose.registry.yml`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ ghcr.io
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### devops/doc/github-actions-guide.md
- –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ GitHub Actions (20+ —Ä–∞–∑–¥–µ–ª–æ–≤)
- –ü—Ä–∏–º–µ—Ä—ã workflow –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ permissions

#### devops/doc/plans/sprint-d1-implementation.md
- –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### devops/doc/plans/d1-setup-guide.md
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- Troubleshooting —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### devops/doc/plans/d1-build-publish.md
- –û–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ setup guide

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤

#### README.md
- –î–æ–±–∞–≤–ª–µ–Ω badge —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∫–∏
- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "üê≥ Docker –æ–±—Ä–∞–∑—ã" —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å registry –æ–±—Ä–∞–∑–∞–º–∏

#### devops/doc/devops-roadmap.md
- –û–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å D1: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
.github/
  workflows/
    build.yml                           # GitHub Actions workflow

docker-compose.registry.yml             # Compose –¥–ª—è registry –æ–±—Ä–∞–∑–æ–≤

devops/
  doc/
    github-actions-guide.md             # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ GitHub Actions
    plans/
      d1-build-publish.md               # –ò—Å—Ö–æ–¥–Ω—ã–π –ø–ª–∞–Ω (–æ–±–Ω–æ–≤–ª–µ–Ω)
      sprint-d1-implementation.md       # –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
      d1-setup-guide.md                 # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
```

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
README.md                               # Badge + —Å–µ–∫—Ü–∏—è Docker –æ–±—Ä–∞–∑—ã
devops/doc/devops-roadmap.md            # –°—Ç–∞—Ç—É—Å D1 ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω
```

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ merge

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Permissions (–æ–¥–∏–Ω —Ä–∞–∑)
```
Settings ‚Üí Actions ‚Üí Workflow permissions
‚Üí –í—ã–±—Ä–∞—Ç—å "Read and write permissions"
```

### 2. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–æ–≤
```
Packages ‚Üí systech-aidd-bot/api/frontend
‚Üí Package settings ‚Üí Change visibility ‚Üí Public
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å README.md
```
–ó–∞–º–µ–Ω–∏—Ç—å OWNER –Ω–∞ –≤–∞—à GitHub username –≤:
- Badge URL
- –ü—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–º–∞–Ω–¥ docker pull
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è docker-compose.registry.yml
```bash
export GITHUB_REPOSITORY_OWNER=yourusername
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü–æ—Å–ª–µ merge –≤ main:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å workflow:**
   - Actions ‚Üí Build and Publish ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π run
   - –í—Å–µ 3 –æ–±—Ä–∞–∑–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ ‚úÖ
   - –û–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ ghcr.io ‚úÖ

2. **–°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏:**
   - Packages ‚Üí –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–∑ ‚Üí Change visibility ‚Üí Public

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
docker pull ghcr.io/OWNER/systech-aidd-bot:latest
docker pull ghcr.io/OWNER/systech-aidd-api:latest
docker pull ghcr.io/OWNER/systech-aidd-frontend:latest

export GITHUB_REPOSITORY_OWNER=OWNER
docker-compose -f docker-compose.registry.yml up -d
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ D2 (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
- ‚úÖ –û–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –û–±—Ä–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø—É–±–ª–∏—á–Ω–æ
- ‚úÖ docker-compose.registry.yml –≥–æ—Ç–æ–≤
- ‚úÖ –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ D2:
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É (OS, Docker, —Ä–µ—Å—É—Ä—Å—ã)
- SSH –¥–æ—Å—Ç—É–ø –∏ –∫–ª—é—á–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- .env.production —à–∞–±–ª–æ–Ω
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä—É—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞

```bash
git add .
git commit -m "feat(devops): complete Sprint D1 - Build & Publish

- Add GitHub Actions workflow for automated Docker builds
- Add docker-compose.registry.yml for registry images
- Add comprehensive GitHub Actions guide
- Add implementation plan and setup guide
- Update README with badge and Docker images section
- Update roadmap: D1 status ‚Üí Completed

Refs: Sprint D1"

git push origin devops
```

## –ú–µ—Ç—Ä–∏–∫–∏ —Å–ø—Ä–∏–Ω—Ç–∞

- **–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:** 5
- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:** 3
- **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~1000+
- **–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 1 —Å–µ—Å—Å–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ D2:** 100%

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### MVP –ø–æ–¥—Ö–æ–¥ —Å–æ–±–ª—é–¥–µ–Ω:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ - –æ–¥–∏–Ω workflow —Ñ–∞–π–ª
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å - matrix strategy –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å - –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º

### –ù–µ –≤–∫–ª—é—á–µ–Ω–æ (–∫–∞–∫ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å):
- ‚ùå Lint checks
- ‚ùå –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- ‚ùå Security scanning
- ‚ùå Multi-platform builds

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±—É–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

**–°–ø—Ä–∏–Ω—Ç D1 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω! üéâ**

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é D2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

